Locality is set wrongly on remote NUMA nodes.

-ck

---
 kernel/sched/bfs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-4.7-ck5/kernel/sched/bfs.c
===================================================================
--- linux-4.7-ck5.orig/kernel/sched/bfs.c	2016-09-23 08:33:01.201718301 +1000
+++ linux-4.7-ck5/kernel/sched/bfs.c	2016-09-23 08:33:01.199718313 +1000
@@ -7047,7 +7047,7 @@ void __init sched_init_smp(void)
 
 		/* First check if this cpu is in the same node */
 		for_each_domain(cpu, sd) {
-			if (sd->level > SD_LV_NODE)
+			if (sd->level > SD_LV_MC)
 				continue;
 			/* Set locality to local node if not already found lower */
 			for_each_cpu(other_cpu, sched_domain_span(sd)) {
